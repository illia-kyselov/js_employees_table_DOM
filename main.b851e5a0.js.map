{"version":3,"sources":["scripts/main.js"],"names":["document","body","style","alignItems","headList","querySelector","sortOrder","sortHeader","normalizeNumber","number","newNumber","includes","replace","addEventListener","e","toSort","target","cellIndex","forSortedTable","children","sort","a","b","cellA","cells","innerText","cellB","localeCompare","append","tr","querySelectorAll","item","closest","classList","remove","className","form","createElement","add","citiesOptions","formInputs","addInput","inputName","inputType","label","input","type","name","toLowerCase","dataset","qa","after","select","city","Option","button","saveDataToTable","data","innerHTML","position","office","age","Number","salary","toLocaleString","pushNotification","title","description","messageContainer","messageTitle","messageDescription","textContent","setTimeout","checkValidation","match","length","preventDefault","Object","fromEntries","FormData","entries","reset","rowItem","initialValue","value","focus","isString","isName","isOffice","isAge","isSalary","changeCellContent","saveEditedField","toString","onblur","onkeydown","keyboardEvent","code"],"mappings":"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","file":"main.b851e5a0.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\ndocument.body.style.alignItems = 'flex-start';\n\nconst headList = document.querySelector('thead');\nconst body = document.querySelector('tbody');\n\nlet sortOrder = '';\nlet sortHeader = null;\n\nfunction normalizeNumber(number) {\n  let newNumber;\n\n  if (number.includes('$')) {\n    newNumber = number.replace(/[$,]/g, '');\n  } else {\n    newNumber = number;\n  }\n\n  return newNumber;\n};\n\nheadList.addEventListener('click', (e) => {\n  const toSort = e.target.cellIndex;\n  const target = e.target;\n\n  if (sortHeader !== target) {\n    sortOrder = 'ASC';\n    sortHeader = target;\n  } else {\n    sortOrder = 'DESC';\n    sortHeader = null;\n  }\n\n  const forSortedTable = [...body.children].sort((a, b) => {\n    const cellA = a.cells[toSort].innerText;\n    const cellB = b.cells[toSort].innerText;\n\n    if (sortOrder === 'ASC') {\n      return (cellA.includes('$')) === false\n        ? cellA.localeCompare(cellB)\n        : normalizeNumber(cellA) - normalizeNumber(cellB);\n    } else {\n      return (cellA.includes('$')) === false\n        ? cellB.localeCompare(cellA)\n        : normalizeNumber(cellB) - normalizeNumber(cellA);\n    }\n  });\n\n  body.append(...forSortedTable);\n});\n\nbody.addEventListener('click', (e) => {\n  const tr = body.querySelectorAll('tr');\n  const item = e.target.closest('tr');\n\n  for (const i of tr) {\n    i.classList.remove('active');\n  }\n  item.className = 'active';\n});\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\ndocument.body.append(form);\n\nconst citiesOptions = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n];\nconst formInputs = [\n  ['Name', 'text'],\n  ['Position', 'text'],\n  ['Age', 'number'],\n  ['Salary', 'number'],\n];\n\nfunction addInput(inputName, inputType) {\n  const label = document.createElement('label');\n  const input = document.createElement('input');\n\n  label.innerText = inputName + ': ';\n  input.type = inputType;\n  input.name = inputName.toLowerCase();\n  input.dataset.qa = inputName.toLowerCase();\n\n  label.append(input);\n\n  return label;\n};\n\nfor (const [input, type] of formInputs) {\n  form.append(addInput(input, type));\n};\n\nform.querySelector(':nth-child(2)').after((() => {\n  const label = document.createElement('label');\n  const select = document.createElement('select');\n\n  label.innerText = 'Office: ';\n  select.name = 'office';\n  select.dataset.qa = 'office';\n\n  for (const city of citiesOptions) {\n    select.append(new Option(city));\n  }\n\n  label.append(select);\n\n  return label;\n})());\n\nconst button = document.createElement('button');\n\nbutton.type = 'submit';\nbutton.innerText = 'Save to table';\n\nform.append(button);\n\nfunction saveDataToTable(data) {\n  const tr = document.createElement('tr');\n\n  tr.innerHTML = `\n    <td>${data.name}</td>\n    <td>${data.position}</td>\n    <td>${data.office}</td>\n    <td>${data.age}</td>\n    <td>$${Number(data.salary).toLocaleString('en-US')}</td>\n  `;\n\n  body.append(tr);\n};\n\nconst pushNotification = (title, description, type) => {\n  const messageContainer = document.createElement('div');\n  const messageTitle = document.createElement('h2');\n  const messageDescription = document.createElement('p');\n\n  document.body.append(messageContainer);\n  messageContainer.append(messageTitle);\n  messageContainer.append(messageDescription);\n  messageContainer.classList.add('notification', type);\n  messageContainer.classList.add(`${type}`);\n  messageContainer.dataset.qa = 'notification';\n  messageTitle.classList.add('title');\n  messageTitle.textContent = title;\n  messageDescription.textContent = description;\n\n  setTimeout(() => messageContainer.remove(), 3000);\n};\n\nfunction checkValidation(data) {\n  if (!data.name.match(/^[a-zA-Z ]*$/g)) {\n    pushNotification('Invalid data',\n      'Only English allowed!',\n      'error');\n\n    return false;\n  }\n\n  if (data.name.length < 4) {\n    pushNotification('Invalid name',\n      'Name is too short, enter the correct one!',\n      'error');\n\n    return false;\n  }\n\n  if (data.age < 18 || data.age > 90) {\n    pushNotification('Invalid age',\n      'Enter the correct age!',\n      'error');\n\n    return false;\n  }\n\n  if (data.position === '' || data.salary === '') {\n    pushNotification('Missing data',\n      'Please, fill all fields!',\n      'error');\n\n    return false;\n  }\n\n  pushNotification('Great!',\n    'New employee successfully added!',\n    'success'\n  );\n\n  return true;\n};\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const data = Object.fromEntries(new FormData(form).entries());\n\n  if (!checkValidation(data)) {\n    return;\n  }\n\n  saveDataToTable(data);\n  form.reset();\n});\n\nbody.addEventListener('dblclick', (e) => {\n  const target = e.target;\n  const input = document.createElement('input');\n  const rowItem = e.target.closest('td');\n  const initialValue = target.innerText;\n\n  input.classList.add('cell-input');\n  input.value = rowItem.innerText;\n  input.name = 'cellInput';\n\n  target.innerText = '';\n  target.append(input);\n  input.focus();\n\n  const isString = target.cellIndex === 0\n    || target.cellIndex === 1;\n  const isName = target.cellIndex === 0;\n  const isOffice = target.cellIndex === 2;\n  const isAge = target.cellIndex === 3;\n  const isSalary = target.cellIndex === 4;\n\n  function changeCellContent(value = initialValue) {\n    target.innerText = value;\n    input.remove();\n  }\n\n  function saveEditedField() {\n    if (!input.value) {\n      changeCellContent();\n\n      return;\n    }\n\n    if ((isAge || isSalary) && !input.value.match(/[0-9]/)) {\n      changeCellContent();\n\n      return;\n    }\n\n    if (isString && input.value.match(/[0-9]/)) {\n      changeCellContent();\n\n      return;\n    }\n\n    /* ???? */\n    if (isSalary && input.value.match(/[0-9]/)) {\n      changeCellContent(input.value\n        .toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','));\n\n      return;\n    }\n\n    if (isName && input.value.length < 4) {\n      changeCellContent();\n\n      return;\n    }\n\n    if (isName && !input.value.match(/^[a-zA-Z ]*$/g)) {\n      changeCellContent();\n\n      return;\n    }\n\n    if (isAge && (+input.value < 18 || +input.value > 90)) {\n      changeCellContent();\n\n      return;\n    }\n\n    if (isOffice && !citiesOptions.includes(input.value)) {\n      changeCellContent();\n\n      return;\n    }\n\n    changeCellContent(input.value);\n  }\n\n  input.onblur = () => {\n    saveEditedField();\n  };\n\n  input.onkeydown = (keyboardEvent) => {\n    const isEnter = keyboardEvent.code === 'Enter';\n\n    if (isEnter) {\n      saveEditedField();\n    }\n  };\n});\n"]}